<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Same meta tags as index.html -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Omkar Enterprises investor dashboard - Track your investments, view returns, and manage your portfolio.">
    <title>Investor Dashboard | Omkar Enterprises</title>
    <!-- Include all CSS files -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/animations.css">
    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dashboard-page">
    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar" id="dashboardSidebar">
            <!-- Sidebar Header -->
            <div class="sidebar-header">
                <a href="index.html">
                    <img src="images/logo.png" alt="Omkar Enterprises" style="height: 40px;">
                </a>
                <h3>Investor Portal</h3>
                <p>Secure Dashboard</p>
            </div>
            
            <!-- User Profile -->
            <div class="user-profile">
                <div class="user-avatar" id="userAvatar">RK</div>
                <div class="user-info">
                    <h4 id="userName">Rajesh Kumar</h4>
                    <p id="investorId">OE-INV-1001</p>
                    <span class="tier-badge growth" id="userTier">Growth</span>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="dashboard-nav">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#overview" class="nav-link active">
                            <i class="fas fa-chart-pie"></i>
                            <span>Overview</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#investments" class="nav-link">
                            <i class="fas fa-wallet"></i>
                            <span>My Investments</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#transactions" class="nav-link">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Transactions</span>
                            <span class="nav-badge">5</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#documents" class="nav-link">
                            <i class="fas fa-file-contract"></i>
                            <span>Documents</span>
                            <span class="nav-badge">8</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#calculator" class="nav-link">
                            <i class="fas fa-calculator"></i>
                            <span>ROI Calculator</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#profile" class="nav-link">
                            <i class="fas fa-user-cog"></i>
                            <span>Profile Settings</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#support" class="nav-link">
                            <i class="fas fa-headset"></i>
                            <span>Support</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    Log Out
                </button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="dashboard-main" id="dashboardMain">
            <!-- Top Navigation Bar -->
            <header class="dashboard-topbar">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="topbar-actions">
                    <!-- Search Box -->
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search investments, documents...">
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <!-- Notifications -->
                        <button class="action-btn" id="notifBtn">
                            <i class="fas fa-bell"></i>
                            <span class="notif-count">3</span>
                        </button>
                        
                        <!-- Profile Dropdown -->
                        <div class="profile-dropdown">
                            <button class="profile-btn" id="profileBtn">
                                <div class="profile-img">RK</div>
                                <div class="profile-info">
                                    <div>Rajesh Kumar</div>
                                    <small>Growth Tier</small>
                                </div>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            
                            <div class="profile-dropdown-menu" id="profileDropdown">
                                <a href="#profile">
                                    <i class="fas fa-user"></i>
                                    My Profile
                                </a>
                                <a href="#settings">
                                    <i class="fas fa-cog"></i>
                                    Account Settings
                                </a>
                                <a href="#security">
                                    <i class="fas fa-shield-alt"></i>
                                    Security
                                </a>
                                <a href="#" class="logout-link">
                                    <i class="fas fa-sign-out-alt"></i>
                                    Log Out
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Messages Panel -->
                <div class="dashboard-messages">
                    <div class="message-content">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <strong>Welcome back, Rajesh!</strong> Your January returns of ₹25,000 were credited on Jan 31. Next payment: Feb 10, 2024.
                        </div>
                    </div>
                    <button class="close-messages" id="closeMessages">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <!-- Overview Section -->
                <section class="dashboard-section active" id="overview">
                    <!-- Welcome Section -->
                    <div class="welcome-section">
                        <div class="welcome-content">
                            <h1 class="welcome-message">Welcome back, <span class="user-name">Rajesh</span>!</h1>
                            <p>Here's your investment performance summary for January 2024.</p>
                            
                            <div class="welcome-stats">
                                <div class="welcome-stat">
                                    <h3>₹10,50,000</h3>
                                    <p>Portfolio Value</p>
                                </div>
                                <div class="welcome-stat">
                                    <h3>₹2,05,000</h3>
                                    <p>Total Returns</p>
                                </div>
                                <div class="welcome-stat">
                                    <h3>10.5%</h3>
                                    <p>Overall ROI</p>
                                </div>
                                <div class="welcome-stat">
                                    <h3>2</h3>
                                    <p>Active Investments</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Stats -->
                    <div class="quick-stats">
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon investment">
                                    <i class="fas fa-wallet"></i>
                                </div>
                                <h3>TOTAL INVESTED</h3>
                            </div>
                            <div class="stat-value total-invested">₹10,00,000</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>₹5,00,000 this month</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon returns">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <h3>CURRENT VALUE</h3>
                            </div>
                            <div class="stat-value current-value">₹10,50,000</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>₹50,000 returns</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon value">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <h3>MONTHLY RETURN</h3>
                            </div>
                            <div class="stat-value monthly-return">₹25,000</div>
                            <div class="stat-change">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Next: Feb 10, 2024</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon roi">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <h3>TOTAL RETURNS</h3>
                            </div>
                            <div class="stat-value total-returns">₹2,05,000</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>10.5% ROI</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts Section -->
                    <div class="charts-section">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>ROI Progress</h3>
                                <div class="chart-options">
                                    <button class="period-btn active">1Y</button>
                                    <button class="period-btn">6M</button>
                                    <button class="period-btn">3M</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="roiChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>Monthly Returns</h3>
                                <div class="chart-options">
                                    <button class="period-btn active">2024</button>
                                    <button class="period-btn">2023</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="monthlyChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Transactions -->
                    <div class="data-table">
                        <div class="table-header">
                            <h3>Recent Transactions</h3>
                            <div class="table-actions">
                                <button class="btn btn-outline btn-small">
                                    <i class="fas fa-download"></i> Export
                                </button>
                                <button class="btn btn-outline btn-small">
                                    <i class="fas fa-print"></i> Print
                                </button>
                                <a href="#transactions" class="btn btn-primary btn-small">
                                    View All
                                </a>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="transactions-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Transactions loaded via JavaScript -->
                                    <tr class="skeleton-loading">
                                        <td colspan="6">
                                            <div class="loading-skeleton">
                                                Loading transactions...
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- My Investments Section -->
                <section class="dashboard-section" id="investments">
                    <h2>My Investments</h2>
                    <p>Track all your active and completed investments</p>
                    
                    <div class="cards-grid" id="investmentsList">
                        <!-- Investments loaded via JavaScript -->
                    </div>
                </section>
                
                <!-- Transactions Section -->
                <section class="dashboard-section" id="transactions">
                    <h2>Transaction History</h2>
                    <p>Complete record of all your investment activities</p>
                    
                    <div class="data-table">
                        <div class="table-header">
                            <h3>All Transactions</h3>
                            <div class="table-actions">
                                <select class="period-select">
                                    <option>All Time</option>
                                    <option>2024</option>
                                    <option>2023</option>
                                    <option>Last 30 Days</option>
                                </select>
                                <button class="btn btn-outline btn-small">
                                    <i class="fas fa-filter"></i> Filter
                                </button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Transaction ID</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Full transaction history -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Documents Section -->
                <section class="dashboard-section" id="documents">
                    <h2>My Documents</h2>
                    <p>Access all your investment documents and statements</p>
                    
                    <!-- Document Categories -->
                    <div class="document-categories">
                        <button class="cat-btn active" data-category="all">All Documents</button>
                        <button class="cat-btn" data-category="agreements">Agreements</button>
                        <button class="cat-btn" data-category="statements">Statements</button>
                        <button class="cat-btn" data-category="kyc">KYC</button>
                        <button class="cat-btn" data-category="certificates">Certificates</button>
                    </div>
                    
                    <!-- Upload Section -->
                    <div class="upload-section">
                        <div class="upload-area" id="uploadArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h4>Upload Documents</h4>
                            <p>Drag & drop files here or click to browse</p>
                            <p class="upload-note">Supported: PDF, JPG, PNG, DOC (Max 10MB)</p>
                            <button class="btn btn-outline" id="browseFiles">
                                <i class="fas fa-folder-open"></i> Browse Files
                            </button>
                            <input type="file" id="fileInput" multiple style="display: none;">
                        </div>
                        <div id="uploadList" class="upload-list"></div>
                    </div>
                    
                    <!-- Documents List -->
                    <div class="documents-list" id="documentsList">
                        <!-- Documents loaded via JavaScript -->
                    </div>
                </section>
                
                <!-- ROI Calculator Section -->
                <section class="dashboard-section" id="calculator">
                    <h2>ROI Calculator</h2>
                    <p>Calculate potential returns for new investments</p>
                    
                    <div class="calculator-card">
                        <!-- Calculator content from calculator.js -->
                    </div>
                </section>
                
                <!-- Profile Settings Section -->
                <section class="dashboard-section" id="profile">
                    <h2>Profile Settings</h2>
                    <p>Manage your account information and preferences</p>
                    
                    <!-- Profile settings form -->
                </section>
                
                <!-- Support Section -->
                <section class="dashboard-section" id="support">
                    <h2>Support Center</h2>
                    <p>Get help and contact support</p>
                    
                    <!-- Support content -->
                </section>
            </div>
        </main>
    </div>

    <!-- Notifications Dropdown -->
    <div class="notif-dropdown" id="notifDropdown">
        <div class="notif-header">
            <h4>Notifications</h4>
            <button class="mark-all-read">Mark all as read</button>
        </div>
        <div class="notif-list" id="notifList">
            <!-- Notifications loaded via JavaScript -->
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/main.js"></script>
    <script src="js/mobile-menu.js"></script>
    <script src="js/sheetdb-auth.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/calculator.js"></script>
    
    <script>
        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Dashboard will auto-initialize via dashboard.js
            console.log('Dashboard page loaded');
            
            // Check authentication
            const session = localStorage.getItem('oe_investor_session');
            if (!session) {
                window.location.href = 'investor-login.html';
            }
        });
    </script>
</body>
</html>
